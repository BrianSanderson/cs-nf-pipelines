//====================  Nextflow/Container Config  ==========

manifest {
    name = "emase"
    description = 'Pipeline for Running EMASE'
    author = 'Michael Lloyd, Copyright Jackson Laboratory 2021'
}

params {
    // Shared params
    extension='.fastq.gz'
    pattern="*_R{1,2}*"
    read_type = 'PE' // 'SE'
    concat_lanes = false
    concat_sampleID_delim = '_' // only used if concat_lanes = true
    concat_sampleID_positions = 1 // only used if concat_lanes = true

    // Reference fasta
    bowtie_index = ''
    transcripts_info = '/projects/churchill-lab/projects/GBRS_GRCm39/eight_way_transcriptome/GRCm39/emase/emase.fullTranscripts.info'
    gbrs_strain_list = "A,B,C,D,E,F,G,H"

    gene2transcript_list = '/projects/churchill-lab/projects/GBRS_GRCm39/eight_way_transcriptome/GRCm39/emase/emase.gene2transcripts.tsv'
    full_transcript_list = '/projects/churchill-lab/projects/GBRS_GRCm39/eight_way_transcriptome/GRCm39/emase/emase.pooled.fullTranscripts.info'

    emase_model = 4  
    // [ choices: 1,2,3,4 ]
    //   1: reads are apportioned among genes first,
    //       then between alleles, and then among isoforms.
    //   2: reads are apportioned among genes first,
    //       then among isoforms, and then between alleles.
    //   3: reads are apportioned among genes first,
    //       then among each isoform-allele combination
    //       which are treated equally.
    //   4: assumes no hierarchy and multi-reads are
    //       apportioned equally among genes, isoforms, and
    //       alleles

    pubdir = "/fastscratch/${USER}" 

    tmpdir = "/fastscratch/${USER}" 
}
